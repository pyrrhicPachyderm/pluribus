# Pluribus

> **_NOTE:_**
> Pluribus is a work in progress.
> The following documents its intended aims, features, and usage, serving as a to-do list and specification as much as anything else.

Pluribus is a utility to help create multi-volume books in LaTeX.
It generates the volumes in separate PDF files, and as an omnibus edition.
Furthermore, it can generate pluribuses&mdash;editions containing any subset of volumes you select.
It manages contents tables and indices within every volume and edition.
Lastly, by leveraging [`zref-xr`](https://ctan.org/pkg/zref), Pluribus facilitates references and hyperlinks within and between volumes.

## Using Pluribus

Pluribus consists of a script that generates a Makefile, which in turn can be used to compile your book's volumes, omnibus, and pluribuses.
By default, it generates a standalone Makefile.
However, it may be configured to generate a set of rules that can be incorporated into a project's overarching Makefile.

Pluribus relies on a configuration file, in the [TOML](https://github.com/toml-lang/toml) format.
This can be used to modify the behaviour of Pluribus, such as selecting between a standalone and partial Makefile.
More importantly, however, the configuration file defines the volumes to be managed by Pluribus.
By default, Pluribus looks for the file `pluribus.toml`, in the directory where the Pluribus script is run.
The contents of configuration file are detailed [below](#user-content-the-configuration-file).

Pluribus also requires one directory for each volume.
This directory should contain a `content.tex` file.
The `content.tex` file contains all the main matter for its relevant volume; everything that goes between LaTeX's `\mainmatter` and `\backmatter` commands.
This file is loaded in LaTeX using the [`\import`](https://ctan.org/pkg/import) command.
As such, it can safely `\input`, `\include`, `\includegraphics`, or `\subimport` files relative to its own location.
For example, you could place each chapter in a separate file, alongside `content.tex`, and import it directly.

Alongside the directories for the volumes, Pluribus creates its own `.pluribus/` directory.
This directory, as well as Makefiles generated by Pluribus, should be excluded from a project's version control system (for example, with a `.gitignore` file).

### Pluribus Script Arguments

The Pluribus script takes two arguments, both optional.
The first argument is the directory on which Pluribus should run.
This directory should contain one subdirectory for each volume.
By default, this directory is also where Pluribus searches for `pluribus.toml`, where it places the resulting Makefile, and where the Makefile places all the compiled PDF documents.
If this argument is not provided, Pluribus simply uses the directory in which the script is run, as though `.` had been passed as the argument.

The second argument is the Pluribus configuration file.
If it is not provided, Pluribus searches for `pluribus.toml` within the directory provided for the first argument.
This argument can only be provided if the first argument has been.
If you wish to change the name of the configuration file, but not its location, provide `.` as the first argument.
For example, `pluribus . pluribus-config.toml`.

### The Configuration File
